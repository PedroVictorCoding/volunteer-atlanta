{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Rooms - NAHS Volunteer Hub</title>
{% endblock title %}

{% block content %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Nunito|PT+Sans&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<body>
  <nav class="site-header sticky-top py-1">
     <div class="container-fluid">
       <a class="navbar-brand" href="{% url 'home' %}">NAHS Volunteer Hub</a>
       {% if user.is_authenticated %}
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdown01"
        style="float:right;" data-toggle="dropdown" aria-haspopup="true"
        aria-expanded="false">More</button>
          <div  class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" style="color:#000" href="{% url 'home' %}">Home</a>
              <a class="dropdown-item" style="color:#000" href="{% url 'messaging_room' %}">Rooms (Coming Soon)</a>
            <a class="dropdown-item" style="color:#000" href="{% url 'profile' %}">Profile - {{ user }}</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" style="color:#000" href="{% url 'about' %}">About</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" style="color:#000" href="{% url 'logout' %}">Logout</a>
          </div>
        {% else %}
        <a class="btn btn-primary" style="float:right" href="{% url 'login' %}">Login</a>
        {% endif %}
      </div>
   </nav>

   <div class="container p-2">
     <div class="container-fluid p-5 rounded border shadow-sm">
       <h2><strong>Rooms</strong></h2>
       <h3>With Rooms you can talk with the organizations that provide community service</h3>
     </div>
   </div>


<div class="container p-2">
  <div class="container-fluid p-5 rounded border shadow-lg">
    <h3>What room would you like to join?</h3>
    <input class="form-control" id="room-name-input" type="text" size="100"/><br/>
    <input class="btn btn-block btn-primary" id="room-name-submit" type="button" value="Enter"/>
  </div>
</div>

<style media="screen">
  div.fixeds {
  position: fixed;
  float:right;
  right:20px;
  bottom: 10px;
}
</style>

<div style="visibility:hidden" id="roomsize" class="alert alert-warning fixeds shadow-lg" role="alert">
  <strong>The room name is very small!</strong>
</div>


    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            if (roomName.length > 1) {
              window.location.pathname = '/room/' + roomName + '/';
            }else{
              alerter = document.getElementById('roomsize');
              alerter.style.visibility = 'visible';
              setTimeout (removealert, 8000);
              function removealert(){
                alerter.style.visibility = 'hidden';
              }
            }

        };
    </script>






</body>
{% endblock content %}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>')</script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
