{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Rooms - NAHS Volunteer Hub</title>
{% endblock title %}

{% block content %}

<body class="container">

    <nav class="navbar navbar-light">
      <a class="navbar-brand" href="{% url 'lobby' %}">NAHS Student Lab</a>
      {% if user.is_authenticated %}
      <div class="dropdown">
    <button class="btn btn-dark dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      More
    </button>
    <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-right" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" style="color:#000" href="{% url 'home' %}">Home</a>
      <a class="dropdown-item" style="color:#000" href="{% url 'messaging_room' %}">Rooms <span class="badge badge-secondary">New</span></a>
      <a class="dropdown-item" style="color:#000" href="{% url 'clubs_homepage' %}">Clubs <span class="badge badge-secondary">New</span></a>
      <a class="dropdown-item" style="color:#000" href="{% url 'profile' %}">Profile - {{ user }}</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" style="color:#000" href="{% url 'about' %}">About</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" style="color:#000" href="{% url 'logout' %}">Logout</a>

    </div>
  </div>
      {% else %}
      <div class="form-inline" style="">
        <a class="btn btn-dark" href="{% url 'login' %}">Login</a>
        <a class="btn btn-outline-dark" style="margin-left:10px" href="{% url 'login' %}">Signup</a>
      </div>
      {% endif %}
    </nav>

   <!--<div class="container p-2">
     <div class="container-fluid p-5 rounded border shadow-sm">
       <h2><strong>Rooms</strong></h2>
       <h3>With Rooms you can talk with the organizations that provide community service</h3>
     </div>
   </div>-->


<div class="container p-2">
  <div class="container-fluid p-5 rounded border shadow">
    <h2><strong>Rooms</strong></h2>
    <h3>With Rooms you can talk with the organizations that provide community service</h3>
    <br>
    <h3>What room would you like to join?</h3>
    <input class="form-control" id="room-name-input" type="text" size="100"/><br/>
    <input class="btn btn-block btn-dark" id="room-name-submit" type="button" value="Enter"/>
  </div>
</div>

<style media="screen">
  div.fixeds {
  position: fixed;
  float:right;
  right:20px;
  bottom: 10px;
}
</style>

<div style="visibility:hidden" id="roomsize" class="alert alert-warning fixeds shadow-lg" role="alert">
  <strong>The room name is very small!</strong>
</div>


    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            if (roomName.length > 1) {
              window.location.pathname = '/room/' + roomName + '/';
            }else{
              alerter = document.getElementById('roomsize');
              alerter.style.visibility = 'visible';
              setTimeout (removealert, 8000);
              function removealert(){
                alerter.style.visibility = 'hidden';
              }
            }

        };
    </script>






</body>
{% endblock content %}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>')</script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
